<!DOCTYPE html>
<html>

<head>
	<title>Options</title>

	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link href="styles/default.css" rel="stylesheet" type="text/css" />
	<script src="js/localStorage.js"></script>

	<script>

		//document.addEventListener("backbutton", exit, false);
		
		window.addEventListener("pageshow", function() {
			initializeLocalStorage();
			updateVibrationButtons();
		});

		function updateVibrationButtons() {
			const vibrationSetting = getVibrationSetting();
			if (vibrationSetting === true) {
				document.getElementById("vibrationOn").disabled = true;
				document.getElementById("vibrationOff").disabled = false;
			} else {
				document.getElementById("vibrationOff").disabled = true;
				document.getElementById("vibrationOn").disabled = false;
			}
		}

		function vibrationSet(value) {
			setVibrationSetting(value);
			updateVibrationButtons();
			if (value === true) {
				navigator.vibrate(1000);
			}
		}

		function exit() {
			if (window.history.length > 1) {
				window.history.back();
			} else {
				window.location.href = 'index.html';
			}
		}
	</script>
</head>

<body style="background-image:url(pictures/background.png);">
	<img style="margin:0px auto;display:block" src="pictures/optionslogo.png" alt="optionslogo" height="16%"
		width="70%">
	<div class="indexButtons">
		<a onClick="vibrationSet(true)"><button id="vibrationOn">Vibration ON</button></a>
		<a onClick="vibrationSet(false)"><button id="vibrationOff">Vibration OFF</button></a>
	</div>
</body>

</html>