<!DOCTYPE html>
<html>

<head>
	<title>Block 1</title>

	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link href="../styles/default.css" rel="stylesheet" type="text/css" />
	<script type="text/javascript" src="../js/localStorage.js"></script>

	<script type="text/javascript" charset="utf-8">
		let unlockSeconds = 120;

		// Initialize localStorage and check unlock status when page loads
		document.addEventListener('DOMContentLoaded', function() {
			initializeLocalStorage();
			checkUnlockStatus();
		});

		// Check unlock status using localStorage
		function checkUnlockStatus() {
			try {
				const highscores = getHighScores();
				
				// Check each level (indices 6-14 for block1 levels 1-10)
				if (highscores[6] && highscores[6] < unlockSeconds && highscores[6] != 0) {
					document.getElementById("Button2").disabled = false;
				}
				if (highscores[7] && highscores[7] < unlockSeconds && highscores[7] != 0) {
					document.getElementById("Button3").disabled = false;
				}
				if (highscores[8] && highscores[8] < unlockSeconds && highscores[8] != 0) {
					document.getElementById("Button4").disabled = false;
				}
				if (highscores[9] && highscores[9] < unlockSeconds && highscores[9] != 0) {
					document.getElementById("Button5").disabled = false;
				}
				if (highscores[10] && highscores[10] < unlockSeconds && highscores[10] != 0) {
					document.getElementById("Button6").disabled = false;
				}
				if (highscores[11] && highscores[11] < unlockSeconds && highscores[11] != 0) {
					document.getElementById("Button7").disabled = false;
				}
				if (highscores[12] && highscores[12] < unlockSeconds && highscores[12] != 0) {
					document.getElementById("Button8").disabled = false;
				}
				if (highscores[13] && highscores[13] < unlockSeconds && highscores[13] != 0) {
					document.getElementById("Button9").disabled = false;
				}
				if (highscores[14] && highscores[14] < unlockSeconds && highscores[14] != 0) {
					document.getElementById("Button10").disabled = false;
				}
			} catch (error) {
				console.error("Error checking unlock status:", error);
			}
		}
	</script>
</head>

<body style="background-image:url(../pictures/background.png);">

	<div class="indexButtons">
		<a href="block1Info.html"><button>Block 1 Info</button></a>
	</div>

	<div class="blockButtons">
		<a href="level1_1.html"><button id="Button1">1</button></a>
		<a href="level1_2.html"><button disabled id="Button2">2</button></a>
		<a href="level1_3.html"><button disabled id="Button3">3</button></a>
		<a href="level1_4.html"><button disabled id="Button4">4</button></a>
		<a href="level1_5.html"><button disabled id="Button5">5</button></a>
		<a href="level1_6.html"><button disabled id="Button6">6</button></a>
		<a href="level1_7.html"><button disabled id="Button7">7</button></a>
		<a href="level1_8.html"><button disabled id="Button8">8</button></a>
		<a href="level1_9.html"><button disabled id="Button9">9</button></a>
		<a href="level1_10.html"><button disabled id="Button10">10</button></a>
	</div>
</body>

</html>
