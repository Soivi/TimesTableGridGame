<!DOCTYPE html>
<html>

<head>
	<title>High Scores</title>

	<meta charset="utf-8" />
	<link href="../styles/default.css" rel="stylesheet" type="text/css" />

	<script type="text/javascript" src="../js/localStorage.js"></script>
	<script type="text/javascript" charset="utf-8">

		// Initialize localStorage and load high scores
		document.addEventListener('DOMContentLoaded', function() {
			initializeLocalStorage();
			loadHighScores();
		});

		function loadHighScores() {
			const highscores = getHighScores();
			let allTimes = 0;
			
			totalText.innerHTML = 'Total time:';
			level1Text.innerHTML = 'Level 1:';
			level2Text.innerHTML = 'Level 2:';
			level3Text.innerHTML = 'Level 3:';
			level4Text.innerHTML = 'Level 4:';
			level5Text.innerHTML = 'Level 5:';
			level6Text.innerHTML = 'Level 6:';
			level7Text.innerHTML = 'Level 7:';
			level8Text.innerHTML = 'Level 8:';
			level9Text.innerHTML = 'Level 9:';
			level10Text.innerHTML = 'Level 10:';

			if (highscores[6] == 0) {
				level1Time.innerHTML = 'No record'
			} else {
				level1Time.innerHTML = highscores[6] + ' sec';
			}
			if (highscores[7] == 0) {
				level2Time.innerHTML = 'No record'
			} else {
				level2Time.innerHTML = highscores[7] + ' sec';
			}
			if (highscores[8] == 0) {
				level3Time.innerHTML = 'No record'
			} else {
				level3Time.innerHTML = highscores[8] + ' sec';
			}
			if (highscores[9] == 0) {
				level4Time.innerHTML = 'No record'
			} else {
				level4Time.innerHTML = highscores[9] + ' sec';
			}
			if (highscores[10] == 0) {
				level5Time.innerHTML = 'No record'
			} else {
				level5Time.innerHTML = highscores[10] + ' sec';
			}
			if (highscores[11] == 0) {
				level6Time.innerHTML = 'No record'
			} else {
				level6Time.innerHTML = highscores[11] + ' sec';
			}
			if (highscores[12] == 0) {
				level7Time.innerHTML = 'No record'
			} else {
				level7Time.innerHTML = highscores[12] + ' sec';
			}
			if (highscores[13] == 0) {
				level8Time.innerHTML = 'No record'
			} else {
				level8Time.innerHTML = highscores[13] + ' sec';
			}
			if (highscores[14] == 0) {
				level9Time.innerHTML = 'No record'
			} else {
				level9Time.innerHTML = highscores[14] + ' sec';
			}
			if (highscores[15] == 0) {
				level10Time.innerHTML = 'No record'
			} else {
				level10Time.innerHTML = highscores[15] + ' sec';
			}
			
			// Calculate total time
			let hasAnyRecord = false;
			for (let i = 6; i <= 15; i++) {
				if (highscores[i] != 0) {
					allTimes = parseFloat(highscores[i]) + allTimes;
					hasAnyRecord = true;
				}
			}
			
			if (!hasAnyRecord) {
				totalTime.innerHTML = 'No record'
			} else {
				totalTime.innerHTML = Math.round((allTimes * 100)) / 100 + ' sec';
			}
		}
	</script>
</head>

<body style="background-image:url(../pictures/background2.png);">
	<table class="highscoresTable">
		<tr>
			<th colspan="2">Block 1 Highscores</th>
		</tr>
		<tr>
			<td id="totalText" class="highscoresText"></td>
			<td id="totalTime" class="highscores"></td>
		</tr>
		<tr>
			<td id="level1Text" class="highscoresText"></td>
			<td id="level1Time" class="highscores"></td>
		</tr>
		<tr>
			<td id="level2Text" class="highscoresText"></td>
			<td id="level2Time" class="highscores"></td>
		</tr>
		<tr>
			<td id="level3Text" class="highscoresText"></td>
			<td id="level3Time" class="highscores"></td>
		</tr>
		<tr>
			<td id="level4Text" class="highscoresText"></td>
			<td id="level4Time" class="highscores"></td>
		</tr>
		<tr>
			<td id="level5Text" class="highscoresText"></td>
			<td id="level5Time" class="highscores"></td>
		</tr>
		<tr>
			<td id="level6Text" class="highscoresText"></td>
			<td id="level6Time" class="highscores"></td>
		</tr>
		<tr>
			<td id="level7Text" class="highscoresText"></td>
			<td id="level7Time" class="highscores"></td>
		</tr>
		<tr>
			<td id="level8Text" class="highscoresText"></td>
			<td id="level8Time" class="highscores"></td>
		</tr>
		<tr>
			<td id="level9Text" class="highscoresText"></td>
			<td id="level9Time" class="highscores"></td>
		</tr>
		<tr>
			<td id="level10Text" class="highscoresText"></td>
			<td id="level10Time" class="highscores"></td>
		</tr>
	</table>
</body>

</html>